<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/black-tie/jquery-ui.css" type="text/css" />
        <script src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js'></script>
        <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'></script>
        <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.2/jquery-ui.min.js'></script>
        <script src='http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.0/backbone-min.js'></script>
    </head>
    <body>

        <h1>Find Users</h1>
        <form action="find" method="get">
          <input type="text" placeholder="Enter Name" id="user-input"/>
        </form>
        <div id="user-selection" style="margin-top:10px;"></div>

        <script>
          $(function() {
            var User = Backbone.Model.extend({}); //Line 9

            var UserList = Backbone.Collection.extend({ //Line 11
              model: User,
              url: 'http://localhost:8888/song',
              parse: function(response) {
                return response;
              }
            });

            var SelectionView = Backbone.View.extend({ //Line 19
              el : $('#user-selection'),
              render: function() {
                $(this.el).html("You Selected : " + this.model.get('name')); //Line 22
                return this;
              },
            });

            var users = new UserList(); //Line 26
            users.fetch({async: false});
            var userNames = users.pluck("name");

            $("#user-input").autocomplete({ //Line 30
              source : userNames,
              minLength : 2,
              select: function(event, ui){ //Line 33
                var selectedModel = users.where({name: ui.item.value})[0];
                var view = new SelectionView({model: selectedModel});
                view.render();
              }
            });
          });
        </script>

    </body>
</html>